<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stopwatch App</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 50px;
  }
  #time {
    font-size: 48px;
    margin-bottom: 20px;
  }
  button {
    padding: 10px 20px;
    font-size: 18px;
    margin: 5px;
    cursor: pointer;
  }
  #laps {
    margin-top: 30px;
    max-width: 300px;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
  }
  #laps ul {
    list-style-type: decimal;
    padding-left: 20px;
  }
</style>
</head>
<body>

<h1>Stopwatch</h1>
<div id="time">00:00:00.000</div>

<button id="startBtn">Start</button>
<button id="pauseBtn" disabled>Pause</button>
<button id="resetBtn" disabled>Reset</button>
<button id="lapBtn" disabled>Lap</button>

<div id="laps">
  <h3>Lap Times</h3>
  <ul id="lapsList"></ul>
</div>

<script>
  let startTime = 0,
      elapsedTime = 0,
      timerInterval,
      running = false;

  const timeDisplay = document.getElementById('time');
  const startBtn = document.getElementById('startBtn');
  const pauseBtn = document.getElementById('pauseBtn');
  const resetBtn = document.getElementById('resetBtn');
  const lapBtn = document.getElementById('lapBtn');
  const lapsList = document.getElementById('lapsList');

  function timeToString(time) {
    let hours = Math.floor(time / 3600000);
    let minutes = Math.floor((time % 3600000) / 60000);
    let seconds = Math.floor((time % 60000) / 1000);
    let milliseconds = time % 1000;

    return (
      String(hours).padStart(2, '0') + ':' +
      String(minutes).padStart(2, '0') + ':' +
      String(seconds).padStart(2, '0') + '.' +
      String(milliseconds).padStart(3, '0')
    );
  }

  function print(txt) {
    timeDisplay.innerHTML = txt;
  }

  function start() {
    if (!running) {
      startTime = Date.now() - elapsedTime;
      timerInterval = setInterval(function printTime() {
        elapsedTime = Date.now() - startTime;
        print(timeToString(elapsedTime));
      }, 10);
      running = true;
      startBtn.disabled = true;
      pauseBtn.disabled = false;
      resetBtn.disabled = false;
      lapBtn.disabled = false;
    }
  }

  function pause() {
    if (running) {
      clearInterval(timerInterval);
      running = false;
      startBtn.disabled = false;
      pauseBtn.disabled = true;
      lapBtn.disabled = true;
    }
  }

  function reset() {
    clearInterval(timerInterval);
    print("00:00:00.000");
    elapsedTime = 0;
    running = false;
    lapsList.innerHTML = "";
    startBtn.disabled = false;
    pauseBtn.disabled = true;
    resetBtn.disabled = true;
    lapBtn.disabled = true;
  }

  function lap() {
    if (running) {
      const li = document.createElement('li');
      li.textContent = timeToString(elapsedTime);
      lapsList.appendChild(li);
    }
  }

  startBtn.addEventListener('click', start);
  pauseBtn.addEventListener('click', pause);
  resetBtn.addEventListener('click', reset);
  lapBtn.addEventListener('click', lap);
</script>

</body>
</html>
